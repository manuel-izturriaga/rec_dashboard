import React, { useState, useEffect } from 'react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar } from 'recharts';

// The API data provided by the user
const apiData = {
  "data": [
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10004620",
      "customer_zip": "94704",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10004620",
      "facility_latitude": "36.565",
      "facility_longitude": "-118.127",
      "facility_state": "California",
      "facility_zip": "93545",
      "historical_reservation_id": "99cc9eea-44ad-4484-8443-f36f0bfaefb8",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10004620",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-05T01:05:58.965827Z",
      "order_number": "0703411628-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Tuttle Creek Campground",
      "product_id": "10274026",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10004620",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10004620",
      "facility_latitude": "36.565",
      "facility_longitude": "-118.127",
      "facility_state": "California",
      "facility_zip": "93545",
      "historical_reservation_id": "25412f2c-4e1b-4140-a387-a9d9e0b6dc1a",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10004620",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-07-11T01:20:39.855629Z",
      "order_number": "0717847812-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Tuttle Creek Campground",
      "product_id": "10273960",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-10T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10004620",
      "customer_zip": "96778",
      "discount": "0",
      "end_date": "2025-07-09T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10004620",
      "facility_latitude": "36.565",
      "facility_longitude": "-118.127",
      "facility_state": "California",
      "facility_zip": "93545",
      "historical_reservation_id": "30a2cc82-f813-43da-a5da-8b04903c543c",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10004620",
      "nights": "2 days",
      "number_of_people": "1",
      "order_date": "2025-07-07T22:58:54.844295Z",
      "order_number": "0733555804-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Tuttle Creek Campground",
      "product_id": "10273966",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-07T00:00:00Z",
      "tax": "0",
      "total_before_tax": "22",
      "total_paid": "22",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10004620",
      "customer_zip": "94533",
      "discount": "0",
      "end_date": "2025-07-02T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10004620",
      "facility_latitude": "36.565",
      "facility_longitude": "-118.127",
      "facility_state": "California",
      "facility_zip": "93545",
      "historical_reservation_id": "c77397bc-dfd9-4945-99e4-88528990f4f7",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10004620",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-07-01T15:08:38.72661Z",
      "order_number": "0736015841-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Tuttle Creek Campground",
      "product_id": "10273962",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-01T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10004620",
      "customer_zip": "92882",
      "discount": "0",
      "end_date": "2025-07-07T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10004620",
      "facility_latitude": "36.565",
      "facility_longitude": "-118.127",
      "facility_state": "California",
      "facility_zip": "93545",
      "historical_reservation_id": "31edfcb9-6bae-4ed6-941a-384959324f6b",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10004620",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-07T03:10:17.718708Z",
      "order_number": "0776146446-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Tuttle Creek Campground",
      "product_id": "10273958",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-06T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10004620",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10004620",
      "facility_latitude": "36.565",
      "facility_longitude": "-118.127",
      "facility_state": "California",
      "facility_zip": "93545",
      "historical_reservation_id": "c2324764-9254-4182-997a-4bbbfe064f0b",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10004620",
      "nights": "1 day",
      "number_of_people": "5",
      "order_date": "2025-07-05T01:33:34.059003Z",
      "order_number": "0779055121-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Tuttle Creek Campground",
      "product_id": "10273973",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10004620",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-08T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10004620",
      "facility_latitude": "36.565",
      "facility_longitude": "-118.127",
      "facility_state": "California",
      "facility_zip": "93545",
      "historical_reservation_id": "39e95b31-47c5-4bff-b159-f86863cf18d2",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10004620",
      "nights": "2 days",
      "number_of_people": "4",
      "order_date": "2025-07-06T22:18:20.980668Z",
      "order_number": "0787787433-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Tuttle Creek Campground",
      "product_id": "10273976",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-06T00:00:00Z",
      "tax": "0",
      "total_before_tax": "22",
      "total_paid": "22",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10007462",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10007462",
      "facility_latitude": "37.569",
      "facility_longitude": "-118.768",
      "facility_state": "California",
      "facility_zip": "93546",
      "historical_reservation_id": "a65c640a-0f93-4a3c-9569-5072bfd3b7ea",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10007462",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-11T03:35:08.061977Z",
      "order_number": "0723817957-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Crowley Lake Campground",
      "product_id": "10274032",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-10T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10007462",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10007462",
      "facility_latitude": "37.569",
      "facility_longitude": "-118.768",
      "facility_state": "California",
      "facility_zip": "93546",
      "historical_reservation_id": "5d624bec-84ec-44fe-b742-34572b00eef0",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10007462",
      "nights": "1 day",
      "number_of_people": "3",
      "order_date": "2025-07-11T03:33:02.558718Z",
      "order_number": "0729571574-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Crowley Lake Campground",
      "product_id": "10274032",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-10T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10007462",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-09T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10007462",
      "facility_latitude": "37.569",
      "facility_longitude": "-118.768",
      "facility_state": "California",
      "facility_zip": "93546",
      "historical_reservation_id": "040797e6-3edb-43fd-9c3b-5d3306afb2e6",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10007462",
      "nights": "2 days",
      "number_of_people": "1",
      "order_date": "2025-07-07T22:16:23.609519Z",
      "order_number": "0729735561-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Crowley Lake Campground",
      "product_id": "10274032",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-07T00:00:00Z",
      "tax": "0",
      "total_before_tax": "22",
      "total_paid": "22",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10007462",
      "customer_zip": "90745",
      "discount": "0",
      "end_date": "2025-07-03T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10007462",
      "facility_latitude": "37.569",
      "facility_longitude": "-118.768",
      "facility_state": "California",
      "facility_zip": "93546",
      "historical_reservation_id": "f4fdac30-1a92-4846-8ea0-9e54348ad2b7",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10007462",
      "nights": "2 days",
      "number_of_people": "1",
      "order_date": "2025-07-02T03:36:13.341812Z",
      "order_number": "0734501541-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Crowley Lake Campground",
      "product_id": "10274032",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-01T00:00:00Z",
      "tax": "0",
      "total_before_tax": "22",
      "total_paid": "22",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10007462",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-03T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10007462",
      "facility_latitude": "37.569",
      "facility_longitude": "-118.768",
      "facility_state": "California",
      "facility_zip": "93546",
      "historical_reservation_id": "bdcc5de8-5452-4f21-9af3-b09b515490e4",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10007462",
      "nights": "2 days",
      "number_of_people": "1",
      "order_date": "2025-07-01T23:24:55.514973Z",
      "order_number": "0746872077-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Crowley Lake Campground",
      "product_id": "10274032",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-01T00:00:00Z",
      "tax": "0",
      "total_before_tax": "22",
      "total_paid": "22",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10007462",
      "customer_zip": "94118",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10007462",
      "facility_latitude": "37.569",
      "facility_longitude": "-118.768",
      "facility_state": "California",
      "facility_zip": "93546",
      "historical_reservation_id": "6987f281-4c98-42a0-80e5-a5370b0a5157",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10007462",
      "nights": "1 day",
      "number_of_people": "3",
      "order_date": "2025-07-04T18:05:06.237171Z",
      "order_number": "0760079860-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Crowley Lake Campground",
      "product_id": "10274032",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10007462",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-09T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10007462",
      "facility_latitude": "37.569",
      "facility_longitude": "-118.768",
      "facility_state": "California",
      "facility_zip": "93546",
      "historical_reservation_id": "e75ffbff-b4a0-4ae0-94df-4d14554a05e7",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10007462",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-09T02:53:53.817288Z",
      "order_number": "0783555710-1",
      "org_id": "126",
      "parent_location": "Alabama Hills",
      "parent_location_id": "607",
      "park": "Crowley Lake Campground",
      "product_id": "10274032",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-08T00:00:00Z",
      "tax": "0",
      "total_before_tax": "11",
      "total_paid": "11",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10009273",
      "customer_zip": "85296",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10009273",
      "facility_latitude": "63.29010317",
      "facility_longitude": "-148.062929",
      "facility_state": "Alaska",
      "facility_zip": "99729",
      "historical_reservation_id": "20a2373e-7f4b-448c-b3d6-0642d297203d",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10009273",
      "nights": "1 day",
      "number_of_people": "5",
      "order_date": "2025-07-05T01:55:10.611878Z",
      "order_number": "0745131448-1",
      "org_id": "126",
      "parent_location": "Delta Wild and Scenic River",
      "parent_location_id": "16852",
      "park": "Brushkana Creek Campground ",
      "product_id": "10246285",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "22",
      "total_paid": "22",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10009273",
      "customer_zip": "55421",
      "discount": "0",
      "end_date": "2025-07-08T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10009273",
      "facility_latitude": "63.29010317",
      "facility_longitude": "-148.062929",
      "facility_state": "Alaska",
      "facility_zip": "99729",
      "historical_reservation_id": "541e41b7-cfb1-4015-a1be-a4969f5f79da",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10009273",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-07T19:32:37.49621Z",
      "order_number": "0779767941-1",
      "org_id": "126",
      "parent_location": "Delta Wild and Scenic River",
      "parent_location_id": "16852",
      "park": "Brushkana Creek Campground ",
      "product_id": "10246285",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-07T00:00:00Z",
      "tax": "0",
      "total_before_tax": "22",
      "total_paid": "22",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10156151",
      "customer_zip": "85266",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10156151",
      "facility_latitude": "43.961372",
      "facility_longitude": "-113.679516",
      "facility_state": "Idaho",
      "facility_zip": "83251",
      "historical_reservation_id": "d76787dd-5c72-49d9-8575-3f82128c7d96",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10156151",
      "nights": "2 days",
      "number_of_people": "2",
      "order_date": "2025-07-09T22:07:45.370304Z",
      "order_number": "0702928260-1",
      "org_id": "126",
      "parent_location": "Joe T. Fallini Recreation Site",
      "parent_location_id": "15012",
      "park": "Joe T. Fallini Recreation Site",
      "product_id": "10156157",
      "region_code": "",
      "region_description": "",
      "site_type": "RV ELECTRIC",
      "start_date": "2025-07-09T00:00:00Z",
      "tax": "0",
      "total_before_tax": "30.5",
      "total_paid": "30.5",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10156151",
      "customer_zip": "44266",
      "discount": "0",
      "end_date": "2025-07-06T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10156151",
      "facility_latitude": "43.961372",
      "facility_longitude": "-113.679516",
      "facility_state": "Idaho",
      "facility_zip": "83251",
      "historical_reservation_id": "7268fd68-f221-48e9-90ad-529c74929a5b",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10156151",
      "nights": "5 days",
      "number_of_people": "2",
      "order_date": "2025-07-01T18:24:48.498876Z",
      "order_number": "0736420506-1",
      "org_id": "126",
      "parent_location": "Joe T. Fallini Recreation Site",
      "parent_location_id": "15012",
      "park": "Joe T. Fallini Recreation Site",
      "product_id": "10156175",
      "region_code": "",
      "region_description": "",
      "site_type": "RV ELECTRIC",
      "start_date": "2025-07-01T00:00:00Z",
      "tax": "0",
      "total_before_tax": "77.5",
      "total_paid": "77.5",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10156151",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-09T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10156151",
      "facility_latitude": "43.961372",
      "facility_longitude": "-113.679516",
      "facility_state": "Idaho",
      "facility_zip": "83251",
      "historical_reservation_id": "9e2e09e5-4457-40d0-9edb-69daa9d3b70f",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10156151",
      "nights": "1 day",
      "number_of_people": "3",
      "order_date": "2025-07-08T16:39:47.29934Z",
      "order_number": "0740992641-1",
      "org_id": "126",
      "parent_location": "Joe T. Fallini Recreation Site",
      "parent_location_id": "15012",
      "park": "Joe T. Fallini Recreation Site",
      "product_id": "10156162",
      "region_code": "",
      "region_description": "",
      "site_type": "RV ELECTRIC",
      "start_date": "2025-07-08T00:00:00Z",
      "tax": "0",
      "total_before_tax": "15.5",
      "total_paid": "15.5",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10156151",
      "customer_zip": "85048",
      "discount": "0",
      "end_date": "2025-07-08T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10156151",
      "facility_latitude": "43.961372",
      "facility_longitude": "-113.679516",
      "facility_state": "Idaho",
      "facility_zip": "83251",
      "historical_reservation_id": "92724e1e-b4d5-4e39-9168-3dfa38bc44b5",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10156151",
      "nights": "1 day",
      "number_of_people": "4",
      "order_date": "2025-07-08T00:12:31.11472Z",
      "order_number": "0782120193-1",
      "org_id": "126",
      "parent_location": "Joe T. Fallini Recreation Site",
      "parent_location_id": "15012",
      "park": "Joe T. Fallini Recreation Site",
      "product_id": "10156166",
      "region_code": "",
      "region_description": "",
      "site_type": "TENT ONLY NONELECTRIC",
      "start_date": "2025-07-07T00:00:00Z",
      "tax": "0",
      "total_before_tax": "6.5",
      "total_paid": "6.5",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "38000",
      "discount": "0",
      "end_date": "2025-07-08T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "3b7dc796-97f6-4dec-b7b4-2cf8093cd243",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "4",
      "order_date": "2025-02-22T21:56:41.477743Z",
      "order_number": "0703132545-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178686",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-07T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "92081",
      "discount": "0",
      "end_date": "2025-07-12T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "a62a2ddc-dda2-4037-97cd-14bdad21451d",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-07-10T01:19:47.801481Z",
      "order_number": "0704956669-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178689",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-11T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "84074",
      "discount": "0",
      "end_date": "2025-07-12T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "7db3e462-80a1-44f0-b1b9-0c69361dade3",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "4 days",
      "number_of_people": "4",
      "order_date": "2025-07-03T14:35:50.003896Z",
      "order_number": "0708801046-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178684",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-08T00:00:00Z",
      "tax": "0",
      "total_before_tax": "18",
      "total_paid": "18",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "84102",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "4b860ad1-06ba-4b98-af68-aa491eca90e8",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-11T01:06:29.308319Z",
      "order_number": "0711137674-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178690",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-10T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "30328",
      "discount": "0",
      "end_date": "2025-07-06T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "92c3e5f2-7251-4ae2-9cd8-d4a4ca1d8d67",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "2 days",
      "number_of_people": "1",
      "order_date": "2025-05-27T15:43:54.556207Z",
      "order_number": "0711361861-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178689",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "32",
      "total_paid": "32",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "32043",
      "discount": "-6",
      "end_date": "2025-07-09T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "b95264a8-2c66-42b5-a5a1-e065abfbf600",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-08T16:18:59.448075Z",
      "order_number": "0713576842-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178682",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-08T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "14",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "89144",
      "discount": "0",
      "end_date": "2025-07-12T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "edf68d4f-6ca7-4a68-8c16-d94bd33d0491",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-07-09T02:41:39.44441Z",
      "order_number": "0713615914-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178688",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-11T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-02T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "c8d00f9b-9440-4665-b30e-1d1c37a2e85f",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-02T03:32:36.863449Z",
      "order_number": "0714363195-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178683",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-01T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "80211",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "022ec036-3331-4a0b-bdbb-08c0462ce434",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "4",
      "order_date": "2025-07-08T22:59:50.616497Z",
      "order_number": "0714945561-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178685",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-10T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "729929b8-2017-4991-91e6-c3ac58851f49",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-07-04T03:22:42.50773Z",
      "order_number": "0716630841-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178687",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "17111",
      "discount": "-6",
      "end_date": "2025-07-02T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "dc4b6b6d-40b2-4533-86b8-8a5ca71fa0a1",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "3",
      "order_date": "2025-05-30T13:39:09.10638Z",
      "order_number": "0718809175-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178693",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-01T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "14",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "89179",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "471ef97d-b60a-41f5-b616-c324f31bb188",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "6",
      "order_date": "2025-07-05T02:29:17.069759Z",
      "order_number": "0719199907-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178680",
      "region_code": "",
      "region_description": "",
      "site_type": "GROUP STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "38",
      "total_paid": "38",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "92591",
      "discount": "-12",
      "end_date": "2025-07-07T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "aaf287d1-ec42-49c3-8298-b56f2ac040a3",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "2 days",
      "number_of_people": "1",
      "order_date": "2025-04-22T05:55:47.960941Z",
      "order_number": "0720682815-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178693",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-05T00:00:00Z",
      "tax": "0",
      "total_before_tax": "32",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "b4a216c8-28c6-43be-bbec-34875601a6cc",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-03T13:43:33.673365Z",
      "order_number": "0724850776-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178690",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "84074",
      "discount": "-24",
      "end_date": "2025-07-08T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "da5c9842-0716-444c-b24d-94d169f73518",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "4 days",
      "number_of_people": "4",
      "order_date": "2025-07-02T23:44:38.313076Z",
      "order_number": "0726386535-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178691",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "56",
      "total_paid": "32",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "90013",
      "discount": "0",
      "end_date": "2025-07-10T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "b198873b-8dce-4aa5-8399-47b144e5d283",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-07-10T01:55:09.819595Z",
      "order_number": "0729580800-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178682",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-09T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "90706",
      "discount": "-6",
      "end_date": "2025-07-02T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "2f20429d-0a90-4914-895d-0b42062b7bf7",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-04-11T03:54:04.758721Z",
      "order_number": "0730194637-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178688",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-01T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "14",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-03T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "f30ae98a-9c14-48c1-951c-441b160281fa",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-05-14T21:08:41.635501Z",
      "order_number": "0730631223-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178682",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-02T00:00:00Z",
      "tax": "0",
      "total_before_tax": "18",
      "total_paid": "18",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-03T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "8fe69dbc-5938-4659-95d7-a188d2570822",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "6",
      "order_date": "2025-06-29T23:04:52.256881Z",
      "order_number": "0731290408-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178691",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-02T00:00:00Z",
      "tax": "0",
      "total_before_tax": "30",
      "total_paid": "30",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "18370",
      "discount": "0",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "28a85366-c6a3-4a9d-9ac8-ac640289f14c",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-01T14:16:32.905826Z",
      "order_number": "0732154470-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178685",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "fbe8f9d7-5037-43c1-9fa3-7b4a0e44c113",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-11T02:44:56.751465Z",
      "order_number": "0735575452-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178688",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-10T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "81241",
      "discount": "-6",
      "end_date": "2025-07-09T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "8d6a6a34-7a00-42eb-ae8b-18c59e42b5de",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-05-19T22:16:39.986253Z",
      "order_number": "0738257720-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178689",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-08T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "14",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "84020",
      "discount": "0",
      "end_date": "2025-07-10T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "07e2f74e-b0d4-4187-946b-b67358297aa7",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "4",
      "order_date": "2025-06-25T21:47:27.459185Z",
      "order_number": "0739096686-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178680",
      "region_code": "",
      "region_description": "",
      "site_type": "GROUP STANDARD NONELECTRIC",
      "start_date": "2025-07-09T00:00:00Z",
      "tax": "0",
      "total_before_tax": "38",
      "total_paid": "38",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "89129",
      "discount": "0",
      "end_date": "2025-07-11T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "fe235fc1-a9a2-45b7-a4a0-6e42670bc629",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "1",
      "order_date": "2025-07-11T03:06:48.427858Z",
      "order_number": "0741969033-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178682",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-10T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-06T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "4ff5ace0-8577-4d88-9aba-1fbe5e633e6f",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "2 days",
      "number_of_people": "3",
      "order_date": "2025-06-28T06:46:05.359851Z",
      "order_number": "0742138142-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178688",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "32",
      "total_paid": "32",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "91320",
      "discount": "0",
      "end_date": "2025-07-06T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "82e8afed-3e1b-4807-842d-791e4600464b",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "4",
      "order_date": "2025-06-19T16:55:22.968327Z",
      "order_number": "0743679326-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178683",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-05T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "-42",
      "end_date": "2025-07-16T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "5ebb08f0-6ca6-44b7-adc6-504121b42b5e",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "7 days",
      "number_of_people": "1",
      "order_date": "2025-06-13T17:32:34.758099Z",
      "order_number": "0748089132-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178683",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-09T00:00:00Z",
      "tax": "0",
      "total_before_tax": "93",
      "total_paid": "51",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "83333",
      "discount": "-6",
      "end_date": "2025-07-05T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "b9a01fb1-7b00-4f01-951e-b6c9b918a612",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "2",
      "order_date": "2025-07-03T18:46:45.304407Z",
      "order_number": "0750479819-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178686",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-04T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "14",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "84642",
      "discount": "0",
      "end_date": "2025-07-14T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "701b85e9-ce8b-479b-aebe-83c6cf78dc47",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "3 days",
      "number_of_people": "4",
      "order_date": "2025-07-03T18:25:21.372234Z",
      "order_number": "0750898434-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178687",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-11T00:00:00Z",
      "tax": "0",
      "total_before_tax": "44",
      "total_paid": "44",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    },
    {
      "agency": "BLM",
      "attr_fee": "",
      "code_hierarchy": "|1|70901|||10168044",
      "customer_zip": "",
      "discount": "0",
      "end_date": "2025-07-08T00:00:00Z",
      "equipment_description": "",
      "equipment_length": "0",
      "facility_id": "10168044",
      "facility_latitude": "37.612483",
      "facility_longitude": "-113.100562",
      "facility_state": "Utah",
      "facility_zip": "84720",
      "historical_reservation_id": "8d8558ea-c760-473c-bd52-09ee9be83b57",
      "inventory_type": "CAMPING",
      "legacy_facility_id": "10168044",
      "nights": "1 day",
      "number_of_people": "3",
      "order_date": "2025-06-10T15:29:13.09706Z",
      "order_number": "0751359848-1",
      "org_id": "126",
      "parent_location": "Cedar City Field Office",
      "parent_location_id": "16696",
      "park": "Pyramid Ridge Campground",
      "product_id": "10178681",
      "region_code": "",
      "region_description": "",
      "site_type": "STANDARD NONELECTRIC",
      "start_date": "2025-07-07T00:00:00Z",
      "tax": "0",
      "total_before_tax": "20",
      "total_paid": "20",
      "tran_fee": "",
      "use_fee": "",
      "use_type": "Overnight"
    }
  ],
  "total_results": 497297
};

// Colors for the pie chart
const COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE', '#00C49F', '#FFBB28', '#FF8042'];

function App() {
  const [filteredData, setFilteredData] = useState([]);
  const [reservationsByDate, setReservationsByDate] = useState([]);
  const [reservationsByPark, setReservationsByPark] = useState([]);
  const [nightsDistribution, setNightsDistribution] = useState([]);
  const [totalReservations, setTotalReservations] = useState(0);
  const [totalRevenue, setTotalRevenue] = useState(0);
  const [selectedState, setSelectedState] = useState('All');
  const [availableStates, setAvailableStates] = useState([]);

  useEffect(() => {
    if (apiData && apiData.data) {
      // Get unique states for the filter
      const uniqueStates = [...new Set(apiData.data.map(res => res.facility_state))].sort();
      setAvailableStates(['All', ...uniqueStates]);

      // Filter data based on selectedState
      const currentFilteredData = selectedState === 'All'
        ? apiData.data
        : apiData.data.filter(res => res.facility_state === selectedState);

      setFilteredData(currentFilteredData);

      // Process data for reservations by date
      const dateCounts = currentFilteredData.reduce((acc, reservation) => {
        const date = reservation.start_date.split('T')[0]; // Get YYYY-MM-DD
        acc[date] = (acc[date] || 0) + 1;
        return acc;
      }, {});

      const sortedDates = Object.keys(dateCounts).sort();
      const processedDateData = sortedDates.map(date => ({
        date: date,
        count: dateCounts[date],
      }));
      setReservationsByDate(processedDateData);

      // Process data for reservations by park
      const parkCounts = currentFilteredData.reduce((acc, reservation) => {
        const parkName = reservation.park;
        acc[parkName] = (acc[parkName] || 0) + 1;
        return acc;
      }, {});

      const processedParkData = Object.keys(parkCounts).map(park => ({
        name: park,
        value: parkCounts[park],
      }));
      setReservationsByPark(processedParkData);

      // Process data for nights distribution
      const nightsCounts = currentFilteredData.reduce((acc, reservation) => {
        const nights = reservation.nights;
        acc[nights] = (acc[nights] || 0) + 1;
        return acc;
      }, {});

      const processedNightsData = Object.keys(nightsCounts).map(nights => ({
        name: nights,
        count: nightsCounts[nights],
      })).sort((a, b) => {
        // Simple numeric sort for "X day(s)"
        const numA = parseInt(a.name.split(' ')[0]);
        const numB = parseInt(b.name.split(' ')[0]);
        return numA - numB;
      });
      setNightsDistribution(processedNightsData);

      // Calculate total reservations
      setTotalReservations(currentFilteredData.length);

      // Calculate total paid revenue
      const sumPaid = currentFilteredData.reduce((sum, reservation) => {
        // Ensure total_paid is a number, handle potential empty strings or non-numeric values
        const paid = parseFloat(reservation.total_paid);
        return sum + (isNaN(paid) ? 0 : paid);
      }, 0);
      setTotalRevenue(sumPaid.toFixed(2)); // Format to 2 decimal places
    }
  }, [selectedState]); // Recalculate when selectedState changes

  const handleStateChange = (event) => {
    setSelectedState(event.target.value);
  };

  return (
    <div className="min-h-screen bg-gray-100 p-4 sm:p-8 font-sans">
      <header className="bg-white shadow-md rounded-lg p-6 mb-8">
        <h1 className="text-3xl font-bold text-gray-800 mb-2">Reservation Dashboard</h1>
        <p className="text-gray-600">Overview of camping reservations from the API data.</p>

        {/* Filter Section */}
        <div className="mt-4">
          <label htmlFor="state-filter" className="block text-gray-700 text-sm font-bold mb-2">
            Filter by Facility State:
          </label>
          <select
            id="state-filter"
            className="shadow border rounded-md py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline w-full sm:w-auto"
            value={selectedState}
            onChange={handleStateChange}
          >
            {availableStates.map(state => (
              <option key={state} value={state}>
                {state}
              </option>
            ))}
          </select>
        </div>
      </header>

      <main className="grid grid-cols-1 lg:grid-cols-2 gap-8">
        {/* Total Reservations Card */}
        <div className="bg-white shadow-md rounded-lg p-6">
          <h2 className="text-2xl font-semibold text-gray-700 mb-4">Total Reservations</h2>
          <p className="text-5xl font-bold text-indigo-600">{totalReservations}</p>
        </div>

        {/* Total Revenue Card */}
        <div className="bg-white shadow-md rounded-lg p-6">
          <h2 className="text-2xl font-semibold text-gray-700 mb-4">Total Revenue</h2>
          <p className="text-5xl font-bold text-green-600">${totalRevenue}</p>
        </div>

        {/* Reservations by Date Chart */}
        <div className="bg-white shadow-md rounded-lg p-6">
          <h2 className="text-2xl font-semibold text-gray-700 mb-4">Reservations by Start Date</h2>
          <ResponsiveContainer width="100%" height={300}>
            <LineChart
              data={reservationsByDate}
              margin={{
                top: 5,
                right: 30,
                left: 20,
                bottom: 5,
              }}
            >
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis dataKey="date" />
              <YAxis />
              <Tooltip />
              <Legend />
              <Line type="monotone" dataKey="count" stroke="#8884d8" activeDot={{ r: 8 }} />
            </LineChart>
          </ResponsiveContainer>
        </div>

        {/* Nights Distribution Chart */}
        <div className="bg-white shadow-md rounded-lg p-6">
          <h2 className="text-2xl font-semibold text-gray-700 mb-4">Nights Distribution</h2>
          <ResponsiveContainer width="100%" height={300}>
            <BarChart
              data={nightsDistribution}
              margin={{
                top: 5,
                right: 30,
                left: 20,
                bottom: 5,
              }}
            >
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis dataKey="name" />
              <YAxis />
              <Tooltip />
              <Legend />
              <Bar dataKey="count" fill="#82ca9d" />
            </BarChart>
          </ResponsiveContainer>
        </div>

        {/* Reservations by Park Pie Chart */}
        <div className="bg-white shadow-md rounded-lg p-6 lg:col-span-2">
          <h2 className="text-2xl font-semibold text-gray-700 mb-4">Distribution Across Parks</h2>
          <ResponsiveContainer width="100%" height={400}>
            <PieChart>
              <Pie
                data={reservationsByPark}
                cx="50%"
                cy="50%"
                labelLine={false}
                outerRadius={150}
                fill="#8884d8"
                dataKey="value"
                label={({ name, percent }) => `${name} (${(percent * 100).toFixed(0)}%)`}
              >
                {reservationsByPark.map((entry, index) => (
                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                ))}
              </Pie>
              <Tooltip />
              <Legend />
            </PieChart>
          </ResponsiveContainer>
        </div>
      </main>
    </div>
  );
}

export default App;
